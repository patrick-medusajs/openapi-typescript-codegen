{{>header}}

import { hooks } from '@anyroadcom/core';
import { {{clientName}} } from '../../client';
{{#if imports}}
	{{#each imports}}
		import type { {{{this}}} } from '../models/{{{this}}}';
	{{/each}}
{{/if}}
const { useQuery, useMutation } = hooks;

const client = new {{clientName}}();

{{#each operations}}
	export const use{{pascalCase name}} = ({{>parameters}}) => {
		{{#equals method 'GET'}}
			return useQuery(['{{ camelCase service}}', '{{ camelCase name }}', {{#each parameters}}{{name}}, {{/each}}], async () => {
			return client.{{camelCase service}}.{{name}}({{#if parameters}}{
				{{#each parameters}}
				{{name}},
				{{/each}}
	    	}{{/if}});
		{{else}}
		return useMutation(async () => {
			return client.{{camelCase service}}.{{name}}({{#if parameters}}{
				{{#each parameters}}
				{{name}},
				{{/each}}
			}{{/if}});
		{{/equals}}
	    });
	};
{{/each}}

